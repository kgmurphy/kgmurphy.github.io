<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C A O I M H</title>
    <link rel="stylesheet" href="../_STYLES/normalise.css">
    <link rel="stylesheet" href="../_STYLES/typography.css">

    <link rel="stylesheet" href="styles/modal.css">

    <script src="js/modal.js"></script>
    <script src="js/html2canvas.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tweakpane@1.5.5/dist/tweakpane.min.js"></script>


<style>

:root {
    --bg: #2B313B;
    --skin: #030303;
    --invert: 80%;
    --sepia:50%;
    --saturate: 50%;
    --hue-rotate:150deg;
    --brightness: 1000%;
    --contrast:0%;

    --marg: 4rem;


    --hair: #ffcc00;
}

.hair, .hair_path, .hair_rect {
    fill: var(--hair);
}

#haircolorwrapper {
display: flex;
flex-direction: row;
}

#haircolorwrapper div {
    width: 2rem;
    height: 2rem;
}

body {
    background-color: #2B313B;
    display: flex;
    align-items: center;
    justify-content: center;
}

#globalWrap {
    display: flex;
    flex-direction: row;
    width: 80%;
    margin: var(--marg);
    padding: 2rem;
    height: 100vh - calc(var(--marg) * 2);
    border: solid 1px #000;

}

#controls {
    width: 336px;
}

#ksimwrapper {
    background-color: var(--bg);
    position: relative;
    width: 336px;
}

#ksimwrapper svg {
    position: absolute;
    top: 16;
    left: 0;
    width: 336px;
}

#img-out {

}

#img-out_cropped {
}

#mybody {
    z-index: 0;
}
#shadows {
    z-index: 1;
}

#shades {
    position: absolute;
    top: 16px;
    visibility: hidden;
}
#hairwrapper {
    z-index: 20;
}
#accessories {
    z-index: 3;
}

#mybody,
#shadows,
#hair,
#accessories {
    position: absolute;
    top: 0;
    left: 0;

}

#ksimmer {
 fill:var(--skin);
}



#accessories {
    position: absolute;
    left: 16px;
}

#skincolor {
    display: flex;
}
#skincolor div {
    width: 2rem;
    height: 2rem;
}

/* Hide everything at first */

.skin, .hair, .shadow, .accessory {
    visibility: hidden;
}

/* Controls */

label {
    display: block;
}


/*--  Buttons --*/

button {
    background-color: #3B3F47;
    color: #fff;
    border: 0;
    padding: 0.5rem;
    border-radius: 0.125rem;
    box-shadow: rgba(0,0,0,0.48) 2px 2px 8px;
}

</style>
</head>
<body>
<!-- Modal-->
    <section class="modal" id="modal-name" data-modal-target>
        <div class="modal__overlay" data-modal-close tabindex="-1"></div>
        <div class="modal__wrapper">
          <div class="modal__header">
            <div class="modal__title">
              Right click and save
            </div>
            <button class="modal__close" data-modal-close aria-label="Close Modal"></button>
          </div>
          <div id="img-out"></div>
          <div id="img-out_cropped"></div>
          <div id="img-out_thumb"></div>
        </div>
      </section>
<!-- / Modal-->
<section id="globalWrap">

    <div id="controls">
        <!-->Choose body type-->
        <!--
            1. Male-ish
            2. Female-ish
            3. 1 + standing
            4. 1 + sitting
        -->
        <h5>SKIN</h5>
        <div id = "skincolor">

        </div>
        <h5>BODY</h5>
        <div id="bodyTypes">
            <label for="maleish">M-ish
              <input type="radio" id="maleish" name="body"">
            </label>
            <label for="femaleish">F-ish
              <input type="radio" id ="femaleish" name="body">
            </label>
          </div>

          <h5>ACCESSORIES</h5>
          <div>
              <label for="accessory_1_check">Glasses
                  <input type="checkbox" id="accessory_1_check" name="accessory" value="glasses">
              </label>
          </div>

          <h5>HAIR</h5>
          <div id="haircolorwrapper"></div>
          <div id ="hairTypes">
              <label for="hairy_1_radio">hairy_1
                <input type="radio" id ="hairy_1_radio" name="hair">
              </label>
              <label for="hairy_2_radio">hairy_2
                <input type="radio" id ="hairy_2_radio" name="hair">
              </label>
              <label for="hairy_3_radio">hairy_3
                <input type="radio" id ="hairy_3_radio" name="hair">
              </label>
              <label for="hairy_4_radio">hairy_4
                <input type="radio" id ="hairy_4_radio" name="hair">
              </label>
              <label for="hairy_5_radio">hairy_5
                <input type="radio" id ="hairy_5_radio" name="hair">
              </label>
          </div>

          <h5>FACE</h5>
          <div id ="faces">
            <label for="face_1_radio">hairy_1
                <input type="radio" id ="face_1_radio" name="face" value="male_face">
              </label>

          </div>
          
<!-- 
    1. Create a div with ID = plural of the noun eg. accessorIES
    2. Add controls
-->
        <button id="saver" data-modal-trigger aria-controls="modal-name" aria-expanded="false">Export as .png</button>  
    </div>
      

    <div id="ksimwrapper">
        <div id="accessories">
            <svg id="glasses" class="accessory" width="176" height="192" viewBox="0 0 176 192" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M124.87 130.234L122.474 145.058C122.141 147.118 120.837 149.286 119.216 150.46C115.335 153.269 108.879 157.822 104.166 160.543C99.6522 163.15 93.8619 165.735 90.186 167.294C88.4715 168.021 87.139 167.209 86.9244 165.325L85.4922 152.755C85.2251 150.411 86.7664 147.268 88.9194 145.774C93.7639 142.413 101.203 137.362 106.219 134.465C110.925 131.748 117.195 128.794 121.555 126.825C123.8 125.811 125.33 127.388 124.87 130.234Z" stroke="#151E29" stroke-width="1.97456"/>
                <path d="M135.182 124.277L137.577 136.335C137.91 138.011 139.213 138.673 140.835 137.974C144.716 136.302 151.172 133.4 155.884 130.679C160.399 128.072 166.189 123.971 169.865 121.285C171.579 120.032 172.912 117.681 173.127 115.549L174.56 101.326C174.827 98.6726 173.286 97.3093 171.133 98.3018C166.288 100.535 158.849 104.074 153.833 106.97C149.127 109.687 142.857 113.974 138.498 117.039C136.253 118.618 134.722 121.962 135.182 124.277Z" stroke="#151E29" stroke-width="1.97456"/>
                <path d="M130.026 125.487C127.563 126.909 126.195 127.059 125.101 127.371L125.1 132.169C126.332 131.138 127.974 129.551 130.026 128.366C132.489 126.944 134.267 126.556 135.362 126.244L135.362 121.446C134.131 122.477 132.078 124.302 130.026 125.487Z" fill="#151E29"/>
                <path d="M87.3731 155.794L87.3728 146.69C74.7589 140.014 56.2322 130.075 42.4357 123.02C36.4419 119.954 30.6103 120.743 28.2453 121.654L29.8221 123.475C31.6615 122.868 38.021 123.657 42.4359 126.206C46.8507 128.755 55.0499 135.461 58.9918 139.406L87.3731 155.794Z" fill="#151E29"/>
                </svg>
        </div>
        <div id="hairwrapper">
            <svg  id="hair_1" width="176" height="192" viewBox="0 0 176 192" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 50L86 0L174 50L86.0001 100L0 50Z" fill="#64563F"/>
                <path d="M174.003 50L86.0032 100L86.0032 112L174.003 62L174.003 50Z" fill="#4B402F"/>
                <path d="M86 100L9.77516e-06 50L0 150C26 166 28 122 35 112C46.354 95.78 60 117 86 112V100Z" fill="url(#paint0_linear_13_665)"/>
                <defs>
                <linearGradient id="paint0_linear_13_665" x1="43" y1="104" x2="17" y2="160" gradientUnits="userSpaceOnUse">
                <stop stop-color="#3E3628"/>
                <stop offset="1" stop-color="#3E3628" stop-opacity="0.4"/>
                </linearGradient>
                </defs>
                </svg>
            <svg id="hair_2" width="180" height="195" viewBox="0 0 180 195" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 53L89 3L177 53L89.0001 103L3 53Z" fill="#1C1E21" stroke="#1C1E21" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="2 6"/>
                <path d="M89 103L3.00001 53L3 151L32 168C49 153 31 125 38 115C49.354 98.78 71 119 89 103Z" fill="black" stroke="black" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="2 6"/>
                </svg>
            <svg id="hair_3" width="186" height="211" viewBox="0 0 186 211" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M95.512 115.341L95.512 99.4318L169.092 57.6705L183.013 49.7159L183.013 68.608C178.04 68.608 171.08 61.6477 169.092 57.6705C147.163 95.6517 100.959 113.008 95.512 115.341Z" fill="#141517"/>
                <path d="M95.5151 99.4337L10.0038 49.7178C10.0038 49.7178 0.0604702 61.6478 0.0606128 83.5246C0.0607285 101.273 10.0038 105.398 10.0038 126.278C10.0038 147.159 0.0606128 161.08 0.0606128 161.08L85.572 210.795C85.572 210.795 95.5151 196.875 95.5151 175.994C95.5151 155.114 85.5721 157.948 85.572 140.199C85.5719 132.257 95.5151 115.341 95.5151 115.341L95.5151 99.4337Z" fill="black"/>
                <path d="M10.0002 49.7159L95.5116 0L183.012 49.7159L95.5116 99.4318L10.0002 49.7159Z" fill="#1C1E21"/>
                </svg>
            <svg id="hair_4" width="176" height="192" viewBox="0 0 176 192" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 50L86 0L143 31C129 39 93.9998 19 69 34C44.0001 49 75 68 74 93L0 50Z" fill="#E9EAEC"/>
                <path d="M74 93L9.73682e-06 50L0 150L38 172C36 155 7 114 38 107C46.4767 105.086 70 111 74 93Z" fill="#D3D5DA"/>
                <line x1="86.6812" y1="67.2777" x2="128.415" y2="43.5653" stroke="#E9EAEC"/>
                <line x1="79.753" y1="63.2777" x2="121.487" y2="39.5653" stroke="#E9EAEC"/>
                </svg>
            <svg id="hair_5" width="176" height="225" viewBox="0 0 176 225" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M174 49.6961L86 100.164L86.0018 142.496L104 132.174L104 104.164L109.25 129.164L174.002 92.0286L174 49.6961Z" fill="#322B20"/>
                <path d="M0 50.1636L15 41.1636L102 91.1636L86 100.164L0 50.1636Z" fill="#383124"/>
                <path d="M15 41.1636L86.2384 0L174.161 50.0964L102 91.1636L15 41.1636Z" fill="#3E3628"/>
                <path d="M9.73682e-06 50.1636L86 100.164V224.164L0 174.164L9.73682e-06 50.1636Z" fill="#262018"/>
                <path d="M153 161.954L174 174.164V150.164L153 161.954Z" fill="#262018"/>
                </svg>
        </div>
        <div id="shadows">
            <svg id="shades" class="shadow" width="170" height="600" viewBox="0 0 170 600" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g opacity="0.5">
                <path d="M99.0045 350.552L87.4684 344.36L87.4697 537.883L99.0058 544.075L99.0045 350.552Z" fill="#E09B80"/>
                <path d="M59.1527 372.857L47.6166 366.667L47.618 560.955L59.154 567.146L59.1527 372.857Z" fill="#E09B80"/>
                <path d="M44.4669 341.039L62.2953 351.526L59.1497 373.477L47.614 366.817L44.4669 341.039Z" fill="#E09B80"/>
                <path d="M36.6093 389.201L48.1754 395.852L46.2477 385.181L36.6093 389.201Z" fill="#E09B80"/>
                <path d="M36.6093 375.99L23.1154 368.279L19.26 396.912L32.7539 404.745L36.6093 375.99Z" fill="#E09B80"/>
                <path d="M19.26 396.912L32.7539 404.745L38.537 410.97L25.0431 403.137L19.26 396.912Z" fill="#E09B80"/>
                <path d="M36.6093 236.232L21.1962 227.557L23.1154 368.396L36.6093 375.99L36.6093 236.232Z" fill="#E09B80"/>
                <path d="M1.40346e-05 48.1503L82.8185 96.3006L82.8185 192.601L4.65787e-06 144.451L1.40346e-05 48.1503Z" fill="#E09B80"/>
                <path d="M123.266 140.596L123.265 115.561L133.858 142.525L123.266 140.596Z" fill="#E09B80"/>
                </g>
            </svg> 
        
        </div>
        <div id="mybody">
        <svg class="skin" id="skin-f" width="200" height="600" viewBox="0 0 200 600" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g opacity="0.8">
            <path d="M115.007 366.322L131.778 356.95L129.689 551.912L115.006 560.117L115.007 366.322Z" fill="#727F27"/>
            <path d="M115.005 366.552L103.469 360.36L103.47 553.883L115.006 560.075L115.005 366.552Z" fill="#727F27"/>
            <path d="M75.1556 389.248L91.9261 379.877L89.8366 574.984L75.1542 583.189L75.1556 389.248Z" fill="#727F27"/>
            <path d="M75.1527 388.857L63.6166 382.667L63.618 576.955L75.154 583.145L75.1527 388.857Z" fill="#727F27"/>
            <path d="M78.2955 367.526L135.242 334.646L132.095 356.726L75.1485 389.606L78.2955 367.526Z" fill="#727F27"/>
            <path d="M60.4669 357.039L78.2953 367.526L75.1497 389.477L63.614 382.817L60.4669 357.039Z" fill="#727F27"/>
            <path d="M60.4669 357.039L117.415 324.162L135.244 334.649L78.2954 367.526L60.4669 357.039Z" fill="#727F27"/>
            <path d="M77.738 250.973L117.685 227.861L157.633 204.749L157.633 335.716L77.738 381.94L77.738 250.973Z" fill="#727F27"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M98.8992 238.73L77.738 250.973L77.738 381.94L157.633 335.716V204.749L135.566 217.516C135.04 228.986 127.032 242.477 117.231 248.136C107.442 253.788 99.4424 249.562 98.8992 238.73Z" fill="#727F27"/>
            <path d="M41.1641 229.787L77.7411 250.973L77.7411 381.94L41.1641 360.754L41.1641 229.787Z" fill="#727F27"/>
            <path d="M63.1777 217.048L98.7936 238.791L135.372 217.628L98.7935 196.442L63.1777 217.048Z" fill="#727F27"/>
            <path d="M157.633 204.749L121.055 183.563L98.7936 196.442L135.372 217.628L157.633 204.749Z" fill="#727F27"/>
            <path d="M41.1597 229.787L77.7381 250.973L98.7936 238.791L63.1778 217.048L41.1597 229.787Z" fill="#727F27"/>
            <path d="M52.6093 405.201L64.1754 411.852L62.2477 401.181L52.6093 405.201Z" fill="#727F27"/>
            <path d="M52.6093 391.99L39.1154 384.279L35.26 412.912L48.7539 420.745L52.6093 391.99Z" fill="#727F27"/>
            <path d="M48.7539 420.745L52.6093 391.99L63.2116 386.207L67.0671 393.918L67.0671 411.267L64.1755 411.852L62.2478 401.181L58.3924 416.299L60.3201 422.524L67.067 425.191L66.1032 428.749L54.537 426.97L48.7539 420.745Z" fill="#727F27"/>
            <path d="M35.26 412.912L48.7539 420.745L54.537 426.97L41.0431 419.137L35.26 412.912Z" fill="#727F27"/>
            <path d="M52.6093 252.232L37.1962 243.558L39.1154 384.396L52.6093 391.99L52.6093 252.232Z" fill="#727F27"/>
            <path d="M52.6093 252.232L63.2116 246.449L63.2116 386.207L52.6093 391.99L52.6093 252.232Z" fill="#727F27"/>
            <path d="M37.1877 243.557L47.7939 237.774L63.2116 246.449L52.6093 252.232L37.1877 243.557Z" fill="#727F27"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M120.005 192.682C120.005 189.363 117.936 186.043 113.799 183.51C105.526 178.445 92.1115 178.445 83.8378 183.51C79.7009 186.043 77.6325 189.363 77.6325 192.682L77.6325 212.964C77.6325 216.284 79.7009 219.603 83.8378 222.136C92.1115 227.202 105.526 227.202 113.799 222.136C117.936 219.603 120.005 216.284 120.005 212.964L120.005 192.682Z" fill="#727F27"/>
            <path d="M16 64.1503L98.8185 112.301L98.8185 208.601L16 160.451L16 64.1503Z" fill="#727F27"/>
            <path d="M98.8185 112.301L183.563 64.1503L183.563 160.451L98.8185 208.601L98.8185 112.301Z" fill="#727F27"/>
            <path d="M15.9999 64.1503L98.8184 16L183.563 64.1503L98.8186 112.301L15.9999 64.1503Z" fill="#727F27"/>
            </g>
        </svg>
        
        <svg class="skin" id="skin-m"  width="200" height="600" viewBox="0 0 200 600" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g opacity="0.8">
                <path d="M115.007 366.322L131.778 356.95L129.689 551.912L115.006 560.117L115.007 366.322Z" fill="#EABD4B"/>
                <path d="M115.005 366.552L103.469 360.36L103.47 553.883L115.006 560.075L115.005 366.552Z" fill="#EABD4B"/>
                <path d="M75.1556 389.248L91.9261 379.877L89.8366 574.984L75.1542 583.189L75.1556 389.248Z" fill="#EABD4B"/>
                <path d="M75.1527 388.857L63.6166 382.667L63.618 576.955L75.154 583.145L75.1527 388.857Z" fill="#EABD4B"/>
                <path d="M78.2955 367.526L135.242 334.646L132.095 356.726L75.1485 389.606L78.2955 367.526Z" fill="#EABD4B"/>
                <path d="M60.4669 357.039L78.2953 367.526L75.1497 389.477L63.614 382.817L60.4669 357.039Z" fill="#EABD4B"/>
                <path d="M60.4669 357.039L117.415 324.162L135.244 334.649L78.2954 367.526L60.4669 357.039Z" fill="#EABD4B"/>
                <path d="M77.738 250.973L117.685 227.861L157.633 204.749L157.633 335.716L77.738 381.94L77.738 250.973Z" fill="#EABD4B"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M98.8992 238.73L77.738 250.973L77.738 381.94L157.633 335.716V204.749L135.566 217.516C135.04 228.986 127.032 242.477 117.231 248.136C107.442 253.788 99.4424 249.562 98.8992 238.73Z" fill="#EABD4B"/>
                <path d="M41.1641 229.787L77.7411 250.973L77.7411 381.94L41.1641 360.754L41.1641 229.787Z" fill="#EABD4B"/>
                <path d="M63.1777 217.048L98.7936 238.791L135.372 217.628L98.7935 196.442L63.1777 217.048Z" fill="#EABD4B"/>
                <path d="M157.633 204.749L121.055 183.563L98.7936 196.442L135.372 217.628L157.633 204.749Z" fill="#EABD4B"/>
                <path d="M41.1597 229.787L77.7381 250.973L98.7936 238.791L63.1778 217.048L41.1597 229.787Z" fill="#EABD4B"/>
                <path d="M52.6093 405.201L64.1754 411.852L62.2477 401.181L52.6093 405.201Z" fill="#EABD4B"/>
                <path d="M52.6093 391.99L39.1154 384.279L35.26 412.912L48.7539 420.745L52.6093 391.99Z" fill="#EABD4B"/>
                <path d="M48.7539 420.745L52.6093 391.99L63.2116 386.207L67.0671 393.918L67.0671 411.267L64.1755 411.852L62.2478 401.181L58.3924 416.299L60.3201 422.524L67.067 425.191L66.1032 428.749L54.537 426.97L48.7539 420.745Z" fill="#EABD4B"/>
                <path d="M35.26 412.912L48.7539 420.745L54.537 426.97L41.0431 419.137L35.26 412.912Z" fill="#EABD4B"/>
                <path d="M52.6093 252.232L37.1962 243.558L39.1154 384.396L52.6093 391.99L52.6093 252.232Z" fill="#EABD4B"/>
                <path d="M52.6093 252.232L63.2116 246.449L63.2116 386.207L52.6093 391.99L52.6093 252.232Z" fill="#EABD4B"/>
                <path d="M37.1877 243.557L47.7939 237.774L63.2116 246.449L52.6093 252.232L37.1877 243.557Z" fill="#EABD4B"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M120.005 192.682C120.005 189.363 117.936 186.043 113.799 183.51C105.526 178.445 92.1115 178.445 83.8378 183.51C79.7009 186.043 77.6325 189.363 77.6325 192.682L77.6325 212.964C77.6325 216.284 79.7009 219.603 83.8378 222.136C92.1115 227.202 105.526 227.202 113.799 222.136C117.936 219.603 120.005 216.284 120.005 212.964L120.005 192.682Z" fill="#EABD4B"/>
                <path d="M16 64.1503L98.8185 112.301L98.8185 208.601L16 160.451L16 64.1503Z" fill="#EABD4B"/>
                <path d="M98.8185 112.301L183.563 64.1503L183.563 160.451L98.8185 208.601L98.8185 112.301Z" fill="#EABD4B"/>
                <path d="M15.9999 64.1503L98.8184 16L183.563 64.1503L98.8186 112.301L15.9999 64.1503Z" fill="#EABD4B"/>
                </g>
        </svg>
    </div>
                    
        </div>
        
        

    </div> 


    
</section>
    <script>


// GLOBALS
        var r               = document.querySelector(':root');
        let imgout          = document.getElementById('img-out');
        let imgout_cropped  = document.getElementById('img-out_cropped');
        let imgout_thumb    = document.getElementById('img-out_thumb');
        let mybody          = document.getElementById('mybody');
        let bodyradios      = document.getElementsByName('body');
        let hairyradios     = document.getElementsByName('hair');
        let saver           = document.getElementById('saver');
        let ksim            = document.getElementById('ksim');
        let ksimwrapper     = document.getElementById('ksimwrapper');



        // SKIN
        let skin_f          = document.getElementById('skin-f');
        let skin_m          = document.getElementById('skin-m');
        let skin_f_paths    = skin_f.getElementsByTagName('path');
        let skin_m_paths    = skin_m.getElementsByTagName('path');
        let skin_f_rects    = skin_f.getElementsByTagName('rect');
        let skin_m_rects    = skin_m.getElementsByTagName('rect');



// COLOR LIBRARY
        let skincolorholder;
        let skincolor = document.getElementById('skincolor');
        let skincolors = ["#F0C8B9", "#ECBAA7", "#E59E83", "#9E6F5F", "#906353", "#805849", "#805C52", "#704F45", "#63463D"];
        // Create palette
        for(let i = 0; i < skincolors.length; i++){
            let swatch = document.createElement('div');
                swatch.style.backgroundColor = skincolors[i];
                skincolor.appendChild(swatch);
        // Save the current selected color
                swatch.addEventListener('click', function(){
                    skincolorholder = skincolors[i];
                    coloriseSkin(skincolorholder);
                });
        }

        let coloriseSkin = function(skincol){
            for(var i = 0; i < skin_f_paths.length; i++){
                skin_f_paths[i].style.fill = skincol;
            }
            for(var i = 0; i < skin_f_rects.length; i++){
            skin_f_rects[i].style.fill = skincolorholder;
            }
            for(var i = 0; i < skin_m_paths.length; i++){
                skin_m_paths[i].style.fill = skincolorholder;
            }
            for(var i = 0; i < skin_m_rects.length; i++){
                skin_m_rects[i].style.fill = skincolorholder;
            }
        }



// SHADOWS
        let shades = document.getElementById('shades');
        let shades_paths = shades.getElementsByTagName('path');
        let shades_rects = shades.getElementsByTagName('rect');
        

        

// BODY CHOOSER
        let male = "<img src=\"images/bodies/body-m.svg\" id=\"ksimmer\">";
        let female = "<img src=\"images/bodies/body-f.svg\" id=\"ksimmer\">";

        for(let i = 0; i < bodyradios.length; i++){
            bodyradios[i].addEventListener('click', function(){
                // Show the shadow
                shades.style.visibility = "visible";
                // Add the body
                let bodyId = bodyradios[i].getAttribute('id');    
                if(bodyId == 'maleish'){
                skin_f.style.visibility = "hidden";
                skin_m.style.visibility = "visible";
                // Show the avatar size 
                // Show the thumbnail
                } else if (bodyId == 'femaleish'){
                skin_m.style.visibility = "hidden";
                skin_f.style.visibility = "visible";
                // Show the avatar size 
                // Show the thumbnail
                } 
            });
       }



// HAIR CHOOSER
        let haircolorholder;
        let haircolorwrapper = document.getElementById('haircolorwrapper');
        let haircolors = ["#F0C8B9", "#ECBAA7", "#E59E83", "#9E6F5F", "#906353", "#805849", "#805C52", "#704F45", "#63463D"];

        // Create palette
        for(let i = 0; i < haircolors.length; i++){
            let hairswatch = document.createElement('div');
                hairswatch.style.backgroundColor = haircolors[i];
                haircolorwrapper.appendChild(hairswatch);
        // Save the current selected color
                hairswatch.addEventListener('click', function(){
                haircolorholder = haircolors[i];
                    coloriseHair(haircolorholder);
                    console.log(haircolorholder);
                });
        }

        let coloriseHair = function(haircol){
            console.log(haircol);
            r.style.setProperty('--hair', haircol);
        }

        let hair_1 = document.getElementById('hair_1');
        let hair_2 = document.getElementById('hair_2');
        let hair_3 = document.getElementById('hair_3');
        let hair_4 = document.getElementById('hair_4');  
        

        let hairwrapper = document.getElementById("hairwrapper");
        // add hair class to all the paths
        let hairs = hairwrapper.getElementsByTagName('svg');

   
        for(let i = 0; i < hairs.length; i++){
            hairs[i].classList.add('hair');

            let hair_paths = hairs[i].getElementsByTagName('path');
            let hair_rects = hairs[i].getElementsByTagName('rect');

            for(let j = 0; j < hair_paths.length; j++){
                hair_paths[j].classList.add('hair_path');
            }
            for(let j = 0; j < hair_rects.length; j++){
                hair_rects[j].classList.add('hair_rect');
            }
        }

        
        let all_hairs = document.getElementsByClassName('hair');

        for(let i = 0; i < hairyradios.length; i++){
            hairyradios[i].addEventListener('click', function(){
                let hairyId = hairyradios[i].getAttribute('id');
                //console.log(hairyId);

                for(let j = 0; j < all_hairs.length; j++){
                if(hairyId == 'hairy_1_radio'){
                    all_hairs[j].style.visibility = "hidden";
                    hair_1.style.visibility = "visible";

                } else if (hairyId == 'hairy_2_radio'){
                    all_hairs[j].style.visibility = "hidden";
                    hair_2.style.visibility = "visible";

                } else if (hairyId == 'hairy_3_radio'){
                    all_hairs[j].style.visibility = "hidden";
                    hair_3.style.visibility = "visible";

                } else if (hairyId == 'hairy_4_radio'){
                    all_hairs[j].style.visibility = "hidden";
                    hair_4.style.visibility = "visible";

                } else if (hairyId == 'hairy_5_radio'){
                    all_hairs[j].style.visibility = "hidden";
                    hair_5.style.visibility = "visible";

                }
            }

    });
}


// ACCESSORIES
        let glasses = document.getElementById('glasses');
        let glassesCheckbox = document.querySelector('input[value="glasses"]');
        glassesCheckbox.addEventListener('change', () => {
        if(glassesCheckbox.checked){
            glasses.style.visibility = "visible";
            console.log("yo");
        } else {
            glasses.style.visibility = "hidden";
        }
    });


// SAVER
        saver.addEventListener('click', function(){   
            // make the full body      
            html2canvas(ksimwrapper).then(function(canvas) { 
                imgout.innerHTML = "";                          
                imgout.appendChild(canvas);
            });
            // make the avatar
            html2canvas(ksimwrapper, {scale: 1.5, height: 336}).then(function(canvas) {
                imgout_cropped.innerHTML = "";
                imgout_cropped.appendChild(canvas);
            });
             // make the thumbnail
             html2canvas(ksimwrapper, {scale: 0.25}).then(function(canvas) {
                imgout_thumb.innerHTML = "";
                imgout_thumb.appendChild(canvas);
            });
        });




    </script>

</body>
</html>
